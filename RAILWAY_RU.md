# üöÇ –î–µ–ø–ª–æ–π –±–æ—Ç–∞ –Ω–∞ Railway - –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## ‚ö° –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢ (5 –º–∏–Ω—É—Ç)

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
```bash
python check_deploy_ready.py
```

### 2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ GitHub
```bash
git add .
git commit -m "–ì–æ—Ç–æ–≤ –∫ Railway –¥–µ–ø–ª–æ—é"
git push origin main
```

### 3. Railway –¥–µ–ø–ª–æ–π
1. https://railway.app ‚Üí **Login with GitHub**
2. **New Project** ‚Üí **Deploy from GitHub repo**
3. –í—ã–±–µ—Ä–∏—Ç–µ `RPRZbOT-main`
4. **Variables** ‚Üí –¥–æ–±–∞–≤—å—Ç–µ:
   ```
   BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather
   ADMIN_CHAT_ID=–≤–∞—à_telegram_chat_id
   ```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞
- Railway Dashboard ‚Üí **View Logs** ‚Üí –∏—â–∏—Ç–µ `‚úÖ –ë–æ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω`
- Telegram ‚Üí `/start` ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

---

## üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:

1. **[DEPLOY_INDEX.md](DEPLOY_INDEX.md)** - –ì–ª–∞–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≤—Å–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º
2. **[RAILWAY_QUICKSTART.md](RAILWAY_QUICKSTART.md)** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (5 –º–∏–Ω—É—Ç)
3. **[RAILWAY_DEPLOY_GUIDE.md](RAILWAY_DEPLOY_GUIDE.md)** - –ü–æ–ª–Ω–æ–µ –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
4. **[DEPLOY_CHECKLIST.md](DEPLOY_CHECKLIST.md)** - –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
5. **[RAILWAY_CLI_CHEATSHEET.md](RAILWAY_CLI_CHEATSHEET.md)** - –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ CLI

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:

6. **[.github/workflows/README.md](.github/workflows/README.md)** - GitHub Actions CI/CD

---

## üéØ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è Railway:

```
RPRZbOT-main/
‚îú‚îÄ‚îÄ Procfile                       ‚úÖ worker: python bot/main.py
‚îú‚îÄ‚îÄ runtime.txt                    ‚úÖ python-3.10.12
‚îú‚îÄ‚îÄ railway.json                   ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Railway
‚îú‚îÄ‚îÄ .railwayignore                ‚úÖ –ò—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ –¥–µ–ø–ª–æ–µ
‚îú‚îÄ‚îÄ check_deploy_ready.py          ‚úÖ –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚îÇ
‚îú‚îÄ‚îÄ .github/workflows/             ‚úÖ CI/CD
‚îÇ   ‚îú‚îÄ‚îÄ tests.yml                 # –¢–µ—Å—Ç—ã + Code Quality
‚îÇ   ‚îú‚îÄ‚îÄ railway-deploy.yml        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è
‚îÇ   ‚îî‚îÄ‚îÄ README.md                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è workflows
‚îÇ
‚îî‚îÄ‚îÄ üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
    ‚îú‚îÄ‚îÄ RAILWAY_RU.md             ‚Üê –í—ã –∑–¥–µ—Å—å (–∫—Ä–∞—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è)
    ‚îú‚îÄ‚îÄ DEPLOY_INDEX.md           # –ù–∞–≤–∏–≥–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ RAILWAY_QUICKSTART.md     # 5 –º–∏–Ω—É—Ç
    ‚îú‚îÄ‚îÄ RAILWAY_DEPLOY_GUIDE.md   # –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
    ‚îú‚îÄ‚îÄ RAILWAY_CLI_CHEATSHEET.md # CLI –∫–æ–º–∞–Ω–¥—ã
    ‚îî‚îÄ‚îÄ DEPLOY_CHECKLIST.md       # –ß–µ–∫–ª–∏—Å—Ç
```

---

## üìñ –ü–û–õ–ù–û–ï –ü–û–®–ê–ì–û–í–û–ï –†–£–ö–û–í–û–î–°–¢–í–û

### –≠–¢–ê–ü 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ GitHub-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

#### 1.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤ –¥–µ–ø–ª–æ—è ‚úÖ

–í—Å–µ —Ñ–∞–π–ª—ã —É–∂–µ —Å–æ–∑–¥–∞–Ω—ã:
- `Procfile` - –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞
- `runtime.txt` - –≤–µ—Ä—Å–∏—è Python 3.10
- `railway.json` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Railway
- `.railwayignore` - –∏—Å–∫–ª—é—á–µ–Ω–∏—è (—Ç–µ—Å—Ç—ã, –ª–æ–≥–∏)
- `.gitignore` - –∑–∞—â–∏—Ç–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤

#### 1.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚úÖ

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ .env –ù–ï –≤ Git:
git ls-files .env
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç–æ!

# –ï—Å–ª–∏ —Ñ–∞–π–ª –≤ Git - —É–¥–∞–ª–∏—Ç–µ:
git rm --cached .env
```

#### 1.3. –ö–æ–º–º–∏—Ç –∏ –ø—É—à

```bash
git add .
git commit -m "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ Railway –¥–µ–ø–ª–æ—é"
git push origin main
```

---

### –≠–¢–ê–ü 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ Railway

#### 2.1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://railway.app
2. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub
3. –ù–∞–∂–º–∏—Ç–µ **"New Project"**
4. –í—ã–±–µ—Ä–∏—Ç–µ **"Deploy from GitHub repo"**
5. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `RPRZbOT-main`
6. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç Python –∏ –Ω–∞—á–Ω—ë—Ç —Å–±–æ—Ä–∫—É

#### 2.2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–ö–†–ò–¢–ò–ß–ù–û:** –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –¢–û–õ–¨–ö–û —á–µ—Ä–µ–∑ Railway UI!

1. Railway Dashboard ‚Üí **Variables**
2. –ù–∞–∂–º–∏—Ç–µ **"Add Variable"**
3. –î–æ–±–∞–≤—å—Ç–µ (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ):

```env
BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
ADMIN_CHAT_ID=123456789
```

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:**
```env
LOG_LEVEL=INFO
MAX_FILE_SIZE_MB=20
MAX_VIDEO_SIZE_MB=300
SPAM_LIMIT=5

# –Ø–Ω–¥–µ–∫—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)
YANDEX_SMTP_ENABLED=false
YANDEX_SMTP_HOST=smtp.yandex.ru
YANDEX_SMTP_PORT=587
YANDEX_SMTP_USER=your_email@yandex.com
YANDEX_SMTP_PASSWORD=your_app_password
```

#### 2.3. –ì–¥–µ –≤–∑—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö?

**BOT_TOKEN:**
1. Telegram ‚Üí [@BotFather](https://t.me/BotFather)
2. `/newbot` –∏–ª–∏ `/token`
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω (—Ñ–æ—Ä–º–∞—Ç: `123456:ABC-DEF...`)

**ADMIN_CHAT_ID:**
1. Telegram ‚Üí [@userinfobot](https://t.me/userinfobot)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à ID (–Ω–∞–ø—Ä–∏–º–µ—Ä: `123456789`)

---

### –≠–¢–ê–ü 3: –î–µ–ø–ª–æ–π

#### 3.1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. ‚úÖ –ö–ª–æ–Ω–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Python 3.10 (–∏–∑ `runtime.txt`)
3. ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–∏–∑ `requirements.txt`)
4. ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞ (–∫–æ–º–∞–Ω–¥–∞ –∏–∑ `Procfile`)

#### 3.2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–µ–ø–ª–æ—è

1. Railway Dashboard ‚Üí **View Logs**
2. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏ —Å–±–æ—Ä–∫–∏:
   ```
   Installing Python 3.10.12...
   Installing dependencies from requirements.txt...
   Starting worker: python bot/main.py...
   ```
3. –û–∂–∏–¥–∞–π—Ç–µ:
   ```
   üöÇ –ó–∞–ø—É—Å–∫ –≤ Railway - –ø—Ä–æ–ø—É—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞
   ‚úÖ –ë–æ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω: @your_bot_username
   –ó–∞–ø—É—Å–∫ polling...
   ```

#### 3.3. –°—Ç–∞—Ç—É—Å—ã –¥–µ–ø–ª–æ—è

- üü¢ **Success** - –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- üî¥ **Failed** - –æ—à–∏–±–∫–∞ (—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏)
- üü° **Building** - –∏–¥—ë—Ç —Å–±–æ—Ä–∫–∞

---

### –≠–¢–ê–ü 4: –¢–µ—Å—Ç –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞

#### 4.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Telegram

1. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞: `@your_bot_username`
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
   ```
   üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –†–ü–†–ó!
   
   –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ –º–µ–Ω—é:
   ```
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –∫–Ω–æ–ø–∫–∏:
   - ‚ùó –°–æ–æ–±—â–∏—Ç–µ –æ–± –æ–ø–∞—Å–Ω–æ—Å—Ç–∏
   - üè† –ë–ª–∏–∂–∞–π—à–µ–µ —É–∫—Ä—ã—Ç–∏–µ
   - üßë‚Äçüè´ –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –†–ü–†–ó
   - üí° –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

#### 4.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π

**–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
- –¢–µ–∫—Å—Ç –æ–ø–∏—Å–∞–Ω–∏—è ‚úÖ
- –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–æ—Ç–æ ‚úÖ
- –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è ‚úÖ

**–ü–æ–∏—Å–∫ —É–∫—Ä—ã—Ç–∏—è:**
- –¢–µ–∫—Å—Ç–æ–≤—ã–π –∞–¥—Ä–µ—Å ‚úÖ
- –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è ‚úÖ
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–ª–∏–∂–∞–π—à–∏–µ —É–±–µ–∂–∏—â–∞ ‚úÖ

**–ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç:**
- –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã ‚úÖ
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∏ ‚úÖ

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:**
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–∫—Å—Ç ‚úÖ
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∞–¥–º–∏–Ω—É ‚úÖ

#### 4.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Railway

–í Railway ‚Üí **View Logs** –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:
```
USER:123456789 | –ö–æ–º–∞–Ω–¥–∞ /start
USER:123456789 | –ü–µ—Ä–µ—Ö–æ–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
USER:123456789 | –í—ã–±—Ä–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è: danger_report
```

---

### –≠–¢–ê–ü 5: –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ GitHub (Push = –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π)

#### 5.1. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π?

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤–∞—à GitHub-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

**–ü—Ä–∏ –∫–∞–∂–¥–æ–º `git push` –≤ –≤–µ—Ç–∫—É `main`:**
1. Railway –ø–æ–ª—É—á–∞–µ—Ç webhook –æ—Ç GitHub
2. –ö–ª–æ–Ω–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π –∫–æ–¥
3. –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞

**–ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!**

#### 5.2. –ü—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```bash
# 1. –í–Ω–µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥
nano bot/main.py

# 2. –ó–∞–∫–æ–º–º–∏—Ç–∏–ª–∏
git add .
git commit -m "–£–ª—É—á—à–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ —É–∫—Ä—ã—Ç–∏–π"

# 3. –ó–∞–ø—É—à–∏–ª–∏
git push origin main

# 4. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç!
```

#### 5.3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è

1. Railway Dashboard ‚Üí **Deployments**
2. –í–∏–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–µ–ø–ª–æ–µ–≤:
   - Commit message
   - Commit hash
   - –í—Ä–µ–º—è
   - –°—Ç–∞—Ç—É—Å (Success/Failed)
   - –õ–æ–≥–∏

#### 5.4. –û—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å:
1. Railway ‚Üí **Deployments**
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é
3. –ù–∞–∂–º–∏—Ç–µ **"Redeploy"**

–ò–ª–∏ —á–µ—Ä–µ–∑ Git:
```bash
git revert HEAD
git push origin main
```

---

### –≠–¢–ê–ü 6: CI/CD —á–µ—Ä–µ–∑ GitHub Actions (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

#### 6.1. –ß—Ç–æ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

–í –ø—Ä–æ–µ–∫—Ç–µ —Å–æ–∑–¥–∞–Ω—ã workflows:

**`.github/workflows/tests.yml`** - –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º push/PR:
- ‚úÖ –¢–µ—Å—Ç—ã (pytest)
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ (coverage)
- ‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ (flake8, black, isort)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (—Å–µ–∫—Ä–µ—Ç—ã, —É—è–∑–≤–∏–º–æ—Å—Ç–∏)
- ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –¥–µ–ø–ª–æ—é

**`.github/workflows/railway-deploy.yml`** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º:
- ‚úÖ Smoke tests
- ‚úÖ Deploy readiness check
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

#### 6.2. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç CI/CD

```
–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ ‚Üí git push ‚Üí GitHub
                             ‚Üì
                    GitHub Actions –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è
                             ‚Üì
                    [–¢–µ—Å—Ç—ã] [Code Quality] [Security]
                             ‚Üì
                       –í—Å–µ —Ç–µ—Å—Ç—ã ‚úÖ
                             ‚Üì
                    Railway –¥–µ–ø–ª–æ–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
                             ‚Üì
                    –ë–æ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω! üéâ
```

#### 6.3. –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

1. GitHub ‚Üí **Actions** (–≤–∫–ª–∞–¥–∫–∞)
2. –í–∏–¥–∏—Ç–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ workflows
3. –ó–µ–ª—ë–Ω–∞—è –≥–∞–ª–æ—á–∫–∞ ‚úÖ = –≤—Å—ë –æ–∫
4. –ö—Ä–∞—Å–Ω—ã–π –∫—Ä–µ—Å—Ç–∏–∫ ‚ùå = –µ—Å—Ç—å –æ—à–∏–±–∫–∏ (–∫–ª–∏–∫ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π)

#### 6.4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞—â–∏—Ç—ã main –≤–µ—Ç–∫–∏

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
1. GitHub ‚Üí **Settings** ‚Üí **Branches**
2. **Add rule** –¥–ª—è `main`
3. –í–∫–ª—é—á–∏—Ç–µ:
   - ‚úÖ Require pull request reviews
   - ‚úÖ Require status checks to pass (–≤—ã–±–µ—Ä–∏—Ç–µ tests.yml)
   - ‚úÖ Include administrators

–¢–µ–ø–µ—Ä—å –Ω–µ–ª—å–∑—è –ø—É—à–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é –≤ main –±–µ–∑ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤!

---

## üÜò FAQ –ü–û –°–¢–ê–ù–î–ê–†–¢–ù–´–ú –û–®–ò–ë–ö–ê–ú

### ‚ùå –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞: "ModuleNotFoundError"

**–ü—Ä–∏—á–∏–Ω–∞:** –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ requirements.txt:
cat requirements.txt

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—Å–µ –ø–∞–∫–µ—Ç—ã:
pyTelegramBotAPI>=4.12.0
python-dotenv>=1.0.0
loguru>=0.7.0
requests>=2.31.0
psutil>=5.9.0

# –ï—Å–ª–∏ —á–µ–≥–æ-—Ç–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç:
pip freeze > requirements.txt
git add requirements.txt
git commit -m "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"
git push origin main
```

---

### ‚ùå –û—à–∏–±–∫–∞ –ª–æ–≥–∏–Ω–∞: "401 Unauthorized"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–≤–µ—Ä–Ω—ã–π BOT_TOKEN

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ Railway Variables:
   - –§–æ—Ä–º–∞—Ç: `1234567890:ABCdefGHIjklMNOpqrsTUVwxyz`
   - –ë–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤, –∫–∞–≤—ã—á–µ–∫, –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫
2. –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω:
   - Telegram ‚Üí [@BotFather](https://t.me/BotFather)
   - `/token` ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞
3. –û–±–Ω–æ–≤–∏—Ç–µ –≤ Railway:
   - Variables ‚Üí BOT_TOKEN ‚Üí Edit ‚Üí Save
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:
   - Railway ‚Üí **Restart**

---

### ‚ùå –û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ç–æ–∫–µ–Ω—É: "BOT_TOKEN –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤ Railway

**–†–µ—à–µ–Ω–∏–µ:**
1. Railway ‚Üí Variables
2. –î–æ–±–∞–≤—å—Ç–µ `BOT_TOKEN`
3. –î–æ–±–∞–≤—å—Ç–µ `ADMIN_CHAT_ID`
4. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç –±–æ—Ç–∞

---

### ‚ùå –°–±–æ–∏ pip: "ERROR: Could not install packages"

**–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é

**–†–µ—à–µ–Ω–∏–µ 1:** –ó–∞–∫—Ä–µ–ø–∏—Ç–µ –≤–µ—Ä—Å–∏–∏
```
# requirements.txt
pyTelegramBotAPI==4.12.0
python-dotenv==1.0.0
loguru==0.7.2
requests==2.31.0
psutil==5.9.5
```

**–†–µ—à–µ–Ω–∏–µ 2:** –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à Railway
```
Railway ‚Üí Settings ‚Üí Reset Build Cache ‚Üí Redeploy
```

**–†–µ—à–µ–Ω–∏–µ 3:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Python –≤–µ—Ä—Å–∏—é
```
# runtime.txt –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:
python-3.10.12
```

---

### ‚ùå –ö–æ–Ω—Ñ–ª–∏–∫—Ç: "409 Conflict: terminated by other getUpdates request"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –±–æ—Ç–∞ –∑–∞–ø—É—â–µ–Ω–æ

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π –±–æ—Ç (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω)
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 30-60 —Å–µ–∫—É–Ω–¥
3. Railway ‚Üí **Restart**
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–æ–∫–µ–Ω –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ö–æ–¥ –±–æ—Ç–∞ —É–∂–µ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è Railway (–ø—Ä–æ–≤–µ—Ä–∫–∞ `IS_RAILWAY`)

---

### ‚ùå –û—à–∏–±–∫–∞: ".env file in repository"

**–ü—Ä–∏—á–∏–Ω–∞:** .env –∑–∞–∫–æ–º–º–∏—á–µ–Ω –≤ Git

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–¥–∞–ª–∏—Ç–µ –∏–∑ Git (–ù–ï –∏–∑ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã):
git rm --cached .env

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ .gitignore –µ—Å—Ç—å:
echo ".env" >> .gitignore

# –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ:
git add .gitignore
git commit -m "–£–¥–∞–ª–∏—Ç—å .env –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è"
git push origin main
```

---

## üîß –ü–û–õ–ù–ê–Ø –ö–û–ú–ê–ù–î–ê –î–õ–Ø –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø –†–ê–ë–û–¢–´

### –ë–æ—Ç —É–ø–∞–ª –∏–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?

```bash
# –®–ê–ì 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
# Railway Dashboard ‚Üí View Logs
# –ù–∞–π–¥–∏—Ç–µ –æ—à–∏–±–∫—É (—Å—Ç—Ä–æ–∫–∏ —Å ‚ùå)

# –®–ê–ì 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
# Railway ‚Üí Variables ‚Üí —É–±–µ–¥–∏—Ç–µ—Å—å:
# BOT_TOKEN=–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π_—Ç–æ–∫–µ–Ω
# ADMIN_CHAT_ID=–≤–∞—à_id

# –®–ê–ì 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
# Railway Dashboard ‚Üí Restart

# –®–ê–ì 4: –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ - Redeploy
# Railway Dashboard ‚Üí Deployments ‚Üí Latest ‚Üí Redeploy

# –®–ê–ì 5: –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è - –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
# Railway ‚Üí Settings ‚Üí Reset Build Cache
# Railway ‚Üí Redeploy

# –®–ê–ì 6: –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
python check_deploy_ready.py
python bot/main.py  # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ

# –®–ê–ì 7: –û—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏
# Railway ‚Üí Deployments ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–±–æ—á—É—é ‚Üí Redeploy
```

---

## üí° –°–û–í–ï–¢–´ –ü–û –ê–í–¢–û–û–ë–ù–û–í–õ–ï–ù–ò–Ø–ú

### Best Practices:

#### 1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ—Ç–∫–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
# –°–æ–∑–¥–∞–π—Ç–µ dev –≤–µ—Ç–∫—É:
git checkout -b develop
# –†–∞–±–æ—Ç–∞–π—Ç–µ –≤ –Ω–µ–π
git add .
git commit -m "WIP: –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è"
git push origin develop

# –ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ—Ä–∂—å—Ç–µ –≤ main:
git checkout main
git merge develop
git push origin main  # –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π!
```

#### 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Pull Requests
- –°–æ–∑–¥–∞–≤–∞–π—Ç–µ PR –∏–∑ develop –≤ main
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã CI/CD
- –ú–µ—Ä–∂—å—Ç–µ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤

#### 3. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –¥–µ–ø–ª–æ–∏
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ push –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ Railway –ª–æ–≥–∏
- –ü–µ—Ä–≤—ã–µ 5-10 –º–∏–Ω—É—Ç —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –æ—à–∏–±–∫–∞–º–∏
- –î–µ—Ä–∂–∏—Ç–µ –æ—Ç–∫—Ä—ã—Ç—ã–º Telegram –±–æ—Ç–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

#### 4. Semantic Commit Messages
```bash
git commit -m "feat: –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è X"
git commit -m "fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ Y"
git commit -m "docs: –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è"
git commit -m "refactor: —É–ª—É—á—à–µ–Ω –∫–æ–¥ Z"
```

#### 5. Versioning (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```bash
# –°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ç–µ–≥–∏ –¥–ª—è —Ä–µ–ª–∏–∑–æ–≤:
git tag -a v1.0.0 -m "–†–µ–ª–∏–∑ 1.0.0"
git push origin v1.0.0
```

---

## üéì –ò–¢–û–ì–û–í–´–ô –ß–ï–ö–õ–ò–°–¢

### –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º:
- [ ] `python check_deploy_ready.py` –ø—Ä–æ—Ö–æ–¥–∏—Ç
- [ ] .env –ù–ï –≤ Git
- [ ] –í—Å–µ —Ñ–∞–π–ª—ã –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã
- [ ] `git push origin main` –≤—ã–ø–æ–ª–Ω–µ–Ω

### –í Railway:
- [ ] –ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –∏–∑ GitHub
- [ ] BOT_TOKEN –¥–æ–±–∞–≤–ª–µ–Ω –≤ Variables
- [ ] ADMIN_CHAT_ID –¥–æ–±–∞–≤–ª–µ–Ω –≤ Variables
- [ ] –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ (–∑–µ–ª—ë–Ω—ã–π —Å—Ç–∞—Ç—É—Å)
- [ ] –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ "‚úÖ –ë–æ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω"

### –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:
- [ ] `/start` –≤ Telegram —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í—Å–µ 4 —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
- [ ] –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω (GitHub ‚Üí Railway)
- [ ] CI/CD —Ä–∞–±–æ—Ç–∞–µ—Ç (GitHub Actions)

---

## üìû –ü–û–õ–ï–ó–ù–´–ï –°–°–´–õ–ö–ò

- üöÇ **Railway:** https://railway.app
- üìñ **Railway Docs:** https://docs.railway.app
- üí¨ **Railway Discord:** https://discord.gg/railway
- ü§ñ **Telegram Bot API:** https://core.telegram.org/bots/api
- üêç **pyTelegramBotAPI:** https://github.com/eternnoir/pyTelegramBotAPI
- üîß **GitHub Actions:** https://docs.github.com/actions

---

## üéâ –ì–û–¢–û–í–û!

–í–∞—à –±–æ—Ç —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Railway 24/7 —Å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –∏–∑ GitHub!

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –±–æ—Ç–æ–º —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
2. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø–µ—Ä–≤—ã–µ –¥–Ω–∏
3. –°–æ–±–∏—Ä–∞–π—Ç–µ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å
4. –ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
5. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–π—Ç–µ –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

**–ü–æ–ª–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:** [RAILWAY_DEPLOY_GUIDE.md](RAILWAY_DEPLOY_GUIDE.md)

**–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:** [RAILWAY_QUICKSTART.md](RAILWAY_QUICKSTART.md)

**–ù–∞–≤–∏–≥–∞—Ü–∏—è:** [DEPLOY_INDEX.md](DEPLOY_INDEX.md)

---

*–°–æ–∑–¥–∞–Ω–æ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ RPRZ Safety Bot | –û–∫—Ç—è–±—Ä—å 2025*
